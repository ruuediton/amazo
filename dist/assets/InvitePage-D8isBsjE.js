import{u as b,r as i,s as l,j as e,S as g}from"./index-BauRbZeW.js";const v=({onNavigate:d,showToast:t})=>{const{withLoading:j}=b(),[a,o]=i.useState(null),[r,x]=i.useState({total_invited:0,total_earned:0}),[m,n]=i.useState(!0);i.useEffect(()=>{p()},[]);const p=async()=>{try{n(!0);const{data:{user:s}}=await l.auth.getUser();if(!s)return;const{data:c}=await l.from("profiles").select("invite_code").eq("id",s.id).single();c&&o(c.invite_code);const{count:f}=await l.from("my_equipe").select("*",{count:"exact",head:!0}).eq("uuid_dono",s.id);x({total_invited:f||0,total_earned:0})}catch(s){console.error("Error fetching invite data",s)}finally{n(!1)}},h=()=>{if(!a)return;const s=`https://deepbank-eight.vercel.app/register?ref=${a}`;navigator.clipboard.writeText(s).then(()=>{t==null||t("Link copiado com sucesso!","success")})},u=()=>{a&&navigator.clipboard.writeText(a).then(()=>{t==null||t("Código copiado!","success")})};return e.jsxs("div",{className:"bg-background-dark font-display text-black antialiased min-h-screen flex flex-col",children:[e.jsxs("header",{className:"flex items-center p-4 justify-between bg-white sticky top-0 z-40 border-b border-gray-100 backdrop-blur-md bg-opacity-90",children:[e.jsx("button",{onClick:()=>d("profile"),className:"size-10 flex items-center justify-center rounded-full hover:bg-gray-50 transition-colors text-primary",children:e.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),e.jsx("h2",{className:"text-lg font-bold flex-1 text-center pr-10 tracking-tight",children:"Convidar Amigos"})]}),e.jsx("main",{className:"flex-1 overflow-y-auto no-scrollbar p-5 space-y-6",children:m?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(g,{size:"w-8 h-8"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-br from-primary to-yellow-500 rounded-[32px] p-6 text-black shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:e.jsx("span",{className:"material-symbols-outlined text-9xl",children:"group_add"})}),e.jsxs("h3",{className:"text-2xl font-black mb-2 leading-tight",children:["Ganhe Recompensas",e.jsx("br",{}),"Ilimitadas"]}),e.jsx("p",{className:"text-sm font-bold opacity-80 mb-6 max-w-[200px]",children:"Convide amigos e ganhe % sobre todas as operações deles."}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 flex items-center justify-between border border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-1",children:"Seu Código"}),e.jsx("p",{className:"text-3xl font-black tracking-wider font-mono",children:a||"---"})]}),e.jsx("button",{onClick:u,className:"size-12 bg-white text-black rounded-xl flex items-center justify-center shadow-lg active:scale-90 transition-transform",children:e.jsx("span",{className:"material-symbols-outlined",children:"content_copy"})})]})]}),e.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"size-12 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-2xl",children:"link"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-lg",children:"Link de Convite"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Compartilhe em suas redes sociais"})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("button",{onClick:h,className:"flex-1 h-12 bg-black text-white rounded-xl font-bold text-sm hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"share"}),"Copiar Link"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-sm border border-gray-100 flex flex-col items-center justify-center text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-3xl text-primary mb-2",children:"groups"}),e.jsx("p",{className:"text-2xl font-black",children:r.total_invited}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Amigos Convidados"})]}),e.jsxs("div",{className:"bg-white rounded-[24px] p-5 shadow-sm border border-gray-100 flex flex-col items-center justify-center text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-3xl text-green-500 mb-2",children:"monetization_on"}),e.jsxs("p",{className:"text-2xl font-black",children:["Kz ",r.total_earned]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Ganhos Totais"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsx("h4",{className:"font-black text-sm uppercase tracking-widest text-gray-400 px-2",children:"Como Funciona"}),e.jsxs("div",{className:"flex gap-4 items-start px-2",children:[e.jsx("div",{className:"size-8 rounded-full bg-gray-100 flex items-center justify-center font-black text-xs shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:"Compartilhe seu link"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Envie seu link exclusivo para seus amigos e familiares."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start px-2",children:[e.jsx("div",{className:"size-8 rounded-full bg-gray-100 flex items-center justify-center font-black text-xs shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:"Amigos se cadastram"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Eles usam seu código para criar uma nova conta na Amazon."})]})]}),e.jsxs("div",{className:"flex gap-4 items-start px-2",children:[e.jsx("div",{className:"size-8 rounded-full bg-gray-100 flex items-center justify-center font-black text-xs shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-sm",children:"Você ganha"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Receba comissões automáticas sempre que eles realizarem operações."})]})]})]})]})})]})};export{v as default};
