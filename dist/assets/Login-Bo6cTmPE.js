import{a as z,u as S,r as s,j as e,s as C}from"./index-BauRbZeW.js";const E=({onNavigate:n,showToast:t})=>{const{runWithTimeout:u}=z(),{withLoading:p}=S(),[l,f]=s.useState(!1),[c,b]=s.useState(""),[d,h]=s.useState(""),[i,X]=s.useState(!1),[g,y]=s.useState(!1),[j,m]=s.useState(0),N=5,v=async r=>{if(r.preventDefault(),j>=N){t==null||t("Muitas tentativas falhadas. Aguarde alguns instantes.","error");return}const a=c.replace(/\D/g,""),o=d.trim();if(!a||a.length<9){t==null||t("N√∫mero de telefone inv√°lido.","error");return}if(!o||o.length<6){t==null||t("A senha deve ter 6 d√≠gitos.","error");return}const k=`${a}@deepbank.user`;try{await p(async()=>{const{error:x}=await u(()=>C.auth.signInWithPassword({email:k,password:o}));if(x)throw m(w=>w+1),new Error("Credenciais inv√°lidas");m(0)},"Login sucedido!"),n("splash-ads")}catch{}};return e.jsx("div",{className:"bg-background-dark font-display text-black antialiased min-h-screen",children:e.jsxs("div",{className:"relative flex min-h-screen w-full flex-col overflow-x-hidden max-w-md mx-auto",children:[e.jsxs("header",{className:"flex items-center justify-between p-4 sticky top-0 z-10 bg-background-dark/95 backdrop-blur-sm border-b border-amazon-border",children:[e.jsx("button",{onClick:()=>n("home"),className:"flex size-10 items-center justify-center rounded-full hover:bg-surface-dark transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-2xl text-primary",children:"arrow_back"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xl font-bold tracking-tight text-text-primary",children:"amazon"}),e.jsx("div",{className:"size-1.5 rounded-full bg-primary mt-3"})]}),e.jsx("div",{className:"size-10"})]}),e.jsxs("main",{className:"flex-1 px-5 pb-8",children:[e.jsxs("div",{className:"mb-8 pt-2",children:[e.jsx("h1",{className:"text-[32px] font-bold leading-tight tracking-tight mb-2",children:"Bem-vindo de volta"}),e.jsx("p",{className:"text-text-secondary text-base font-normal",children:"Fa√ßa login para gerir suas finan√ßas e compras."})]}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:v,children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-text-secondary uppercase tracking-wider",children:"N√∫mero de Telefone"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:[e.jsx("span",{className:"text-xl mr-2",children:"üá¶üá¥"}),e.jsx("span",{className:"text-base font-medium text-text-primary",children:"+244"}),e.jsx("div",{className:"ml-3 h-6 w-px bg-amazon-border"})]}),e.jsx("input",{className:"flex w-full rounded-lg border border-amazon-border bg-surface-dark pl-[7.5rem] pr-4 h-12 text-base focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all placeholder:text-text-secondary/30",placeholder:"9XX XXX XXX",type:"tel",value:c,onChange:r=>b(r.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium leading-none text-gray-700",children:"Senha"}),e.jsx("button",{type:"button",className:"text-xs font-bold text-primary hover:underline",children:"Esqueceu a senha?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"flex w-full rounded-lg border border-border-dark bg-surface-dark px-4 pr-12 h-12 text-base focus:border-primary focus:ring-1 focus:ring-primary focus:outline-none transition-all placeholder:text-gray-600",placeholder:"Digite sua senha (6 d√≠gitos)",type:l?"text":"password",value:d,inputMode:"numeric",onChange:r=>{const a=r.target.value.replace(/\D/g,"").slice(0,6);h(a)},required:!0}),e.jsx("button",{type:"button",onClick:()=>f(!l),className:"absolute right-0 top-0 h-full w-12 flex items-center justify-center text-gray-500 hover:text-primary transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-xl",children:l?"visibility":"visibility_off"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"remember",checked:g,onChange:r=>y(r.target.checked),className:"size-5 rounded border-amazon-border bg-surface-dark text-primary focus:ring-0 focus:ring-offset-0 transition-all cursor-pointer"}),e.jsx("label",{htmlFor:"remember",className:"text-sm font-bold text-text-secondary cursor-pointer italic",children:"Lembrar de mim"})]}),e.jsx("button",{type:"submit",disabled:i,className:`mt-4 flex w-full items-center justify-center rounded-lg bg-primary py-3 text-base font-black text-text-primary shadow-lg shadow-primary/20 hover:bg-primary-hover active:scale-[0.98] transition-all cursor-pointer ${i?"opacity-50 cursor-not-allowed":""}`,children:i?"Entrando...":"Entrar"}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm font-medium text-text-secondary",children:["N√£o tem uma conta?",e.jsx("button",{type:"button",onClick:()=>n("register"),className:"text-primary hover:text-primary-hover ml-1 font-bold",children:"Criar conta"})]})})]}),e.jsxs("div",{className:"mt-16 flex flex-col items-center opacity-30",children:[e.jsx("span",{className:"material-symbols-outlined text-3xl mb-2",children:"lock"}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Seguran√ßa amazon"})]})]})]})})};export{E as default};
