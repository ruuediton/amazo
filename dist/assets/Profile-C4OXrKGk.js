import{R as n,s as c,j as e,S as w}from"./index-BauRbZeW.js";const k=({onNavigate:i,onLogout:b,profile:g})=>{const[d,u]=n.useState(!0),[f,x]=n.useState(null),[p,j]=n.useState(g),[r,N]=n.useState({balance:0,reloaded_amount:0,retirada_total:0,renda_diaria:0,fundo_aplicado:0,renda_mensal:0}),m=async()=>{var a,l;const{data:{user:s}}=await c.auth.getUser();if(s){const{data:h,error:v}=await c.rpc("get_profile_stats");!v&&h&&N(h);const{data:o}=await c.from("profiles").select("*").eq("id",s.id).single();if(o){j(o);let t=o.phone||s.phone||((a=s.user_metadata)==null?void 0:a.phone)||"";t&&!t.startsWith("+")&&(t=`+244 ${t}`),x(t)}else{let t=s.phone||((l=s.user_metadata)==null?void 0:l.phone)||"";t&&!t.startsWith("+")&&(t=`+244 ${t}`),x(t)}}};return n.useEffect(()=>{m();const s=c.channel("profile-stats-realtime").on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles"},()=>m()).subscribe();return()=>{s.unsubscribe()}},[]),!p||!r.balance===void 0?e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black/5 backdrop-blur-sm",children:e.jsx(w,{size:"w-12 h-12",className:"text-black/60"})}):e.jsxs("div",{className:"flex flex-col pb-32 bg-white text-[#111418] font-display overflow-x-hidden",children:[e.jsx("div",{className:"pt-6 pb-4 px-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-extrabold tracking-tight text-[#111418]",children:p.full_name||"Usuário amazon"}),e.jsx("div",{className:"flex flex-col mt-1 space-y-0.5",children:e.jsx("p",{className:"text-[#637381] text-sm font-medium",children:f||"+244 000 000 000"})}),e.jsxs("div",{className:"mt-3 inline-flex items-center gap-1.5 px-3 py-1 bg-[#f4d125] rounded-full",children:[e.jsx("span",{className:"material-symbols-outlined text-[#111418] text-[16px] font-bold",children:"verified"}),e.jsx("span",{className:"text-[#111418] text-[10px] font-extrabold uppercase tracking-wider",children:"INVESTIDOR"})]})]}),e.jsxs("div",{className:"relative shrink-0 ml-4",children:[e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-20 w-20 border-2 border-[#f4d125] shadow-sm",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuC_O5s3g5eF50cs5tQ_zh2NLwLYFyqEHtdcmZQASWBXJmsfG9k1wREC0IVW-eylYq2qw9Wumxb3YSS9L8wyFWSAANAxg0weMoxNXY5GHUshMgmu4w9sjeIyoflSKaECFCwFS1gStIJMDr7wVpnTKZtIpcTAH9dvh6Gana_Pw0-htT1Q9DdTGiPGHpfWu0oZKbmwz9Siq4VzRFUsXmwkyVAA2EOn-fhlHOMblENj8rod3pTqjUbUouxH6s1qZ6ZAEvzMM3z9YeCoHvE0")'}}),e.jsx("div",{className:"absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-md border border-gray-100",children:e.jsx("span",{className:"material-symbols-outlined text-[#111418] text-[14px] block",children:"edit"})})]})]})}),e.jsx("div",{className:"px-4 mb-6",children:e.jsxs("div",{className:"rounded-2xl bg-[#fefce8] p-6 border border-[#f4d125]/20 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none translate-x-4 -translate-y-4",children:e.jsx("span",{className:"material-symbols-outlined text-[120px] text-[#f4d125]",children:"account_balance_wallet"})}),e.jsx("div",{className:"relative z-10",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-[#637381] text-xs font-bold uppercase tracking-widest mb-1",children:"Saldo Disponível"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"text-3xl font-extrabold text-[#111418] tracking-tight",children:["Kz ",d?(r.balance||0).toLocaleString("pt-AO",{minimumFractionDigits:2}):"••••••"]}),e.jsx("button",{onClick:()=>u(!d),className:"text-[#637381]/60",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:d?"visibility":"visibility_off"})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-3 gap-y-6 gap-x-1 mt-8 pt-4 border-t border-[#f4d125]/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] uppercase text-[#637381] font-bold tracking-wider",children:"Recarga Total"}),e.jsxs("p",{className:"text-[13px] font-bold text-[#111418] mt-1",children:["Kz ",(r.reloaded_amount||0).toLocaleString("pt-AO")]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#f4d125]/5",children:[e.jsx("p",{className:"text-[9px] uppercase text-[#637381] font-bold tracking-wider",children:"Fundo Aplicado"}),e.jsxs("p",{className:"text-[13px] font-bold text-[#111418] mt-1",children:["Kz ",(r.fundo_aplicado||0).toLocaleString("pt-AO")]})]})]}),e.jsxs("div",{className:"text-center border-x border-[#f4d125]/10",children:[e.jsx("p",{className:"text-[9px] uppercase text-[#637381] font-bold tracking-wider",children:"Retirada Total"}),e.jsxs("p",{className:"text-[13px] font-bold text-[#111418] mt-1",children:["Kz ",(r.retirada_total||0).toLocaleString("pt-AO")]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#f4d125]/5",children:[e.jsx("p",{className:"text-[9px] uppercase text-[#637381] font-bold tracking-wider",children:"Tempo Ativo"}),e.jsx("p",{className:"text-[13px] font-bold text-[#111418] mt-1",children:"6h 12m"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-[9px] uppercase text-[#637381] font-bold tracking-wider",children:"Renda Diária"}),e.jsxs("p",{className:"text-[13px] font-bold text-green-600 mt-1",children:["+Kz ",(r.renda_diaria||0).toLocaleString("pt-AO")]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-[#f4d125]/5",children:[e.jsx("p",{className:"text-[9px] uppercase text-[#637381] font-bold tracking-wider",children:"Renda Mensal"}),e.jsxs("p",{className:"text-[13px] font-bold text-green-600 mt-1",children:["+Kz ",(r.renda_mensal||0).toLocaleString("pt-AO")]})]})]})]})]})}),e.jsxs("div",{className:"px-4 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-[11px] font-extrabold text-[#637381] uppercase tracking-[0.05em] mb-2.5 ml-1",children:"Serviços"}),e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm",children:[{label:"Retirar fundo",icon:"account_balance_wallet",page:"retirada"},{label:"Recarregar",icon:"payments",page:"deposit"},{label:"Recarga USDT",icon:"stars",page:"deposit-usdt"},{label:"Aplicar Fundo",icon:"trending_up",page:"investimentos-fundo"},{label:"Baixar App",icon:"download",page:"download-app"},{label:"Resgatar prêmios",icon:"assignment",page:"gift-chest"}].map((s,a,l)=>e.jsxs("div",{onClick:()=>s.page?i(s.page):null,className:`flex items-center gap-3 p-3.5 ${a!==l.length-1?"border-b-[0.5px] border-[#F3F4F6]":""} active:bg-gray-50 cursor-pointer`,children:[e.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[#FFF9DB] text-[#f4d125] shrink-0 size-9",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:s.icon})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-bold text-[14px]",children:s.label})}),e.jsx("span",{className:"material-symbols-outlined text-gray-300 text-xl",children:"chevron_right"})]},s.label))})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[11px] font-extrabold text-[#637381] uppercase tracking-[0.05em] mb-2.5 ml-1",children:"Históricos"}),e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm",children:[{label:"Detalhes de Conta",icon:"account_circle",page:"detalhes-conta"}].map((s,a,l)=>e.jsxs("div",{onClick:()=>s.page?i(s.page):null,className:`flex items-center gap-3 p-3.5 ${a!==l.length-1?"border-b-[0.5px] border-[#F3F4F6]":""} active:bg-gray-50 cursor-pointer`,children:[e.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[#FFF9DB] text-[#f4d125] shrink-0 size-9",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:s.icon})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-bold text-[14px]",children:s.label})}),e.jsx("span",{className:"material-symbols-outlined text-gray-300 text-xl",children:"chevron_right"})]},s.label))})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[11px] font-extrabold text-[#637381] uppercase tracking-[0.05em] mb-2.5 ml-1",children:"Segurança"}),e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm",children:[{label:"Trocar Senha",icon:"lock_reset",page:"change-password"},{label:"Definir Senha de Retirada",icon:"pin",page:"withdraw-password"},{label:"Alterar Senha de Retirada",icon:"lock_person",page:"update-withdraw-password"}].map((s,a,l)=>e.jsxs("div",{onClick:()=>s.page?i(s.page):null,className:`flex items-center gap-3 p-3.5 ${a!==l.length-1?"border-b-[0.5px] border-[#F3F4F6]":""} active:bg-gray-50 cursor-pointer`,children:[e.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[#FFF9DB] text-[#f4d125] shrink-0 size-9",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:s.icon})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-bold text-[14px]",children:s.label})}),e.jsx("span",{className:"material-symbols-outlined text-gray-300 text-xl",children:"chevron_right"})]},s.label))})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-[11px] font-extrabold text-[#637381] uppercase tracking-[0.05em] mb-2.5 ml-1",children:"Outros"}),e.jsx("div",{className:"bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm",children:[{label:"Configurações",icon:"settings",page:"settings"},{label:"Suporte",icon:"support_agent",page:"support"},{label:"Relatar Problema",icon:"report_problem",page:"report"},{label:"Sobre a Empresa",icon:"domain",page:"info"}].map((s,a,l)=>e.jsxs("div",{onClick:()=>s.page?i(s.page):null,className:`flex items-center gap-3 p-3.5 ${a!==l.length-1?"border-b-[0.5px] border-[#F3F4F6]":""} active:bg-gray-50 cursor-pointer`,children:[e.jsx("div",{className:"flex items-center justify-center rounded-lg bg-[#FFF9DB] text-[#f4d125] shrink-0 size-9",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:s.icon})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"font-bold text-[14px]",children:s.label})}),e.jsx("span",{className:"material-symbols-outlined text-gray-300 text-xl",children:"chevron_right"})]},s.label))})]}),e.jsxs("div",{className:"pb-12 pt-4",children:[e.jsx("button",{onClick:b,className:"w-full py-3 text-center text-red-600 font-bold bg-[#fee2e2] active:bg-red-200 rounded-xl transition-colors text-[14px]",children:"Sair da Conta"}),e.jsx("p",{className:"text-center text-[10px] font-bold text-[#637381]/40 mt-6 uppercase tracking-widest",children:"Versão 2.4.0 • Build 884"})]})]})]})};export{k as default};
