import{r as n,j as e,s as h}from"./index-BauRbZeW.js";const d=["/carousel1.png","/carousel2.png","/carousel3.jpg"],g=({onNavigate:l,profile:s})=>{const[r,c]=n.useState("Todas"),[i,m]=n.useState(0),[o,p]=n.useState(null);n.useEffect(()=>{const a=setInterval(()=>{m(t=>(t+1)%d.length)},3500);return()=>clearInterval(a)},[]),n.useEffect(()=>{if(!(s!=null&&s.id))return;(async()=>{try{const{data:t}=await h.from("products").select("*").eq("status","active").order("price",{ascending:!0}).limit(1);t&&t.length>0&&p(t[0])}catch(t){console.error("Home fetch error:",t)}})()},[s==null?void 0:s.id]);const b=[{label:"Todas",icon:"star"},{label:"Shopping",icon:"shopping_bag"},{label:"Banco",icon:"account_balance"},{label:"Parceiros",icon:"handshake"},{label:"Promoção",icon:"local_offer"},{label:"Suporte",icon:"contact_support"}];return e.jsxs("div",{className:"flex flex-col pb-32 bg-background-dark min-h-screen font-display antialiased relative",children:[e.jsxs("section",{className:"relative w-full h-[220px] overflow-hidden",children:[e.jsx("div",{className:"flex transition-transform duration-1000 ease-in-out h-full",style:{transform:`translateX(-${i*100}%)`},children:d.map((a,t)=>e.jsx("div",{className:"w-full h-full flex-shrink-0 bg-cover bg-center",style:{backgroundImage:`url("${a}")`},children:e.jsx("div",{className:"w-full h-full bg-gradient-to-t from-background-dark via-transparent to-transparent"})},t))}),e.jsxs("div",{className:"absolute top-4 left-4 z-10 flex items-center gap-2 bg-white/10 backdrop-blur-md px-3 py-1.5 rounded-full border border-white/20",children:[e.jsx("div",{className:"size-6 rounded-full bg-primary flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"material-symbols-outlined text-[14px] text-black font-bold",children:"person"})}),e.jsxs("span",{className:"text-black text-xs font-bold",children:["Olá, ",(s==null?void 0:s.code)||"Usuário"]})]}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 z-10",children:d.map((a,t)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${i===t?"w-6 bg-primary shadow-[0_0_10px_#f4c025]":"w-1.5 bg-white/40"}`},t))})]}),e.jsx("div",{className:"bg-white py-2 overflow-hidden border-y border-amazon-border",children:e.jsxs("div",{className:"flex whitespace-nowrap animate-marquee",children:[e.jsx("span",{className:"text-[11px] font-bold text-black uppercase tracking-widest px-8",children:"• APROVEITE AS OFERTAS EXCLUSIVAS amazon • GANHE 5% DE CASHBACK EM ELETRÔNICOS • SUPORTE 24H DISPONÍVEL •"}),e.jsx("span",{className:"text-[11px] font-bold text-black uppercase tracking-widest px-8",children:"• APROVEITE AS OFERTAS EXCLUSIVAS amazon • GANHE 5% DE CASHBACK EM ELETRÔNICOS • SUPORTE 24H DISPONÍVEL •"})]})}),e.jsx("div",{className:"px-4 pt-6 mb-2",children:e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>l("deposit"),className:"flex flex-col items-center justify-center gap-2 p-4 bg-primary text-black rounded-2xl shadow-lg shadow-primary/20 active:scale-95 transition-all group",children:[e.jsx("span",{className:"material-symbols-outlined text-[28px] font-bold",style:{fontVariationSettings:"'FILL' 1"},children:"add_card"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight",children:"Recarregar"})]}),e.jsxs("button",{onClick:()=>l("retirada"),className:"flex flex-col items-center justify-center gap-2 p-4 bg-white border border-amazon-border text-black rounded-2xl shadow-sm active:scale-95 transition-all group",children:[e.jsx("span",{className:"material-symbols-outlined text-primary text-[28px]",children:"payments"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"Retirar"})]}),e.jsxs("button",{onClick:()=>l("tutorials"),className:"flex flex-col items-center justify-center gap-2 p-4 bg-white border border-amazon-border text-black rounded-2xl shadow-sm active:scale-95 transition-all group",children:[e.jsx("span",{className:"material-symbols-outlined text-primary text-[28px]",children:"auto_stories"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight",children:"Tutoriais"})]})]})}),e.jsx("div",{className:"sticky top-0 z-40 bg-white/95 backdrop-blur-md py-3 border-b border-amazon-border",children:e.jsx("div",{className:"flex gap-3 px-4 overflow-x-auto no-scrollbar scroll-smooth",children:b.map(a=>e.jsxs("button",{onClick:()=>c(a.label),className:`flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full px-4 transition-all active:scale-95 ${r===a.label?"bg-primary shadow-sm":"bg-white border border-amazon-border"}`,children:[e.jsx("span",{className:`material-symbols-outlined text-[20px] ${r===a.label?"text-black":"text-gray-500"}`,style:{fontVariationSettings:r===a.label?"'FILL' 1":"'FILL' 0"},children:a.icon}),e.jsx("p",{className:`text-sm leading-normal ${r===a.label?"text-black font-bold":"text-gray-500 font-medium"}`,children:a.label})]},a.label))})}),o&&e.jsxs("section",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 pb-3",children:[e.jsx("h2",{className:"text-xl font-bold leading-tight text-black",children:"Destaques"}),e.jsx("div",{className:"flex gap-1.5 items-center",children:e.jsx("span",{className:"text-[10px] font-black text-primary uppercase bg-black px-2 py-0.5 rounded",children:"Mega Oferta"})})]}),e.jsx("div",{className:"px-4",children:e.jsxs("div",{className:"relative w-full overflow-hidden rounded-3xl bg-black shadow-2xl group border border-white/10",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-70 group-hover:scale-105 transition-transform duration-[2000ms]",style:{backgroundImage:'url("/amazon_highlight_hero.png")'}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-black/90 via-black/40 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-6 flex flex-col h-full min-h-[180px] justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"px-2.5 py-1 bg-primary text-black text-[10px] font-black rounded uppercase tracking-widest shadow-lg",children:"Preço Imbatível"}),e.jsx("h3",{className:"text-white text-2xl font-black mt-3 leading-tight uppercase italic",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"text-primary text-xl font-black italic",children:["Kz ",o.price.toLocaleString()]}),e.jsx("span",{className:"text-white/40 text-xs line-through",children:"Por tempo limitado"})]})]}),e.jsxs("button",{onClick:()=>l("shop"),className:"bg-primary hover:bg-primary-hover text-black text-xs font-black py-3.5 px-6 rounded-2xl w-full mt-4 transition-all shadow-xl shadow-primary/30 active:scale-[0.98] uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"shopping_cart"}),"Comprar Agora"]})]}),e.jsx("div",{className:"absolute top-4 right-4 animate-bounce pointer-events-none",children:e.jsx("span",{className:"material-symbols-outlined text-primary text-4xl opacity-40",children:"stars"})})]})})]}),e.jsxs("section",{className:"mt-8 px-4",children:[e.jsx("h2",{className:"text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Todas as Ofertas"}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx(x,{title:"Amazon Core Cashback",desc:"Ganhe 5% de retorno automático em todas as suas compras.",reward:"5% de Volta",image:"/amazon_logistic_service.png",onClick:()=>l("gift-chest")}),e.jsx(x,{title:"Programa de Fidelidade",desc:"Acumule pontos e troque por saldo real em sua conta amazon.",reward:"Prêmios Diários",image:"/amazon_fidelity_stars.png",onClick:()=>l("gift-chest")})]})]}),e.jsx("style",{children:`
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .animate-marquee { animation: marquee 25s linear infinite; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})},x=({title:l,desc:s,reward:r,image:c,onClick:i})=>e.jsxs("div",{className:"flex flex-col overflow-hidden bg-transparent border-none",children:[e.jsxs("div",{className:"relative h-56 w-full overflow-hidden rounded-[32px] mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url("${c}")`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-lg font-black italic mb-0.5",children:l}),e.jsx("p",{className:"text-white/80 text-xs font-medium max-w-[200px] leading-tight",children:s})]}),e.jsx("div",{className:"bg-primary px-3 py-1.5 rounded-full shadow-lg",children:e.jsx("span",{className:"text-black text-[10px] font-black uppercase tracking-wider",children:r})})]})]}),e.jsx("div",{className:"px-1 flex justify-between items-center",children:e.jsx("button",{onClick:i,className:"w-full h-11 bg-slate-900 text-white rounded-2xl text-[13px] font-black uppercase tracking-[0.1em] active:scale-[0.98] transition-all",children:"Ativar Benefício"})})]});export{g as default};
